{% extends 'index.html' %}

{% block title %}
–í—Ö–æ–¥
{% endblock %}

{% block content %}

<div class="auth-container">
    <div class="auth">
        <div class="h1-center">
            <h1>–í—Ö–æ–¥</h1>
        </div>
        <form method="post" class="form">
            {% csrf_token %}

            <!-- –ü–æ–ª–µ –¥–ª—è –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <div class="form-field">
                {{ form.username.label_tag }}
                {{ form.username }}
            </div>

            <!-- –ü–æ–ª–µ –¥–ª—è –ø–∞—Ä–æ–ª—è —Å –≥–ª–∞–∑–∏–∫–æ–º –≤–Ω—É—Ç—Ä–∏ -->
            <div class="form-field">
                {{ form.password.label_tag }}
                <div class="password-container">
                    {{ form.password }}
                    <span class="password-toggle" onclick="togglePasswordVisibility()" style="cursor: pointer;">
                        üëÅÔ∏è <!-- –ò–∫–æ–Ω–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -->
                    </span>
                </div>
            </div>

            <input type="hidden" name="next" value="{{ next }}">

            <nav class="form-menu form-menu-center">
                <input type="submit" value="–í–æ–π—Ç–∏" class="button"/>
            </nav>
        </form>

        <div class="auth-text">
            <p><a href="{% url 'signup' %}">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a></p>
            <p><a href="{% url 'password_reset' %}">–°–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å</a></p>
        </div>
    </div>
</div>

<script>
    function togglePasswordVisibility() {
        const passwordField = document.querySelector('[name="password"]'); // –ù–∞—Ö–æ–¥–∏–º –ø–æ–ª–µ –ø–∞—Ä–æ–ª—è
        const toggleIcon = document.querySelector('.password-toggle'); // –ù–∞—Ö–æ–¥–∏–º –∏–∫–æ–Ω–∫—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
        const isPasswordVisible = passwordField.type === 'text'; // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–∏–¥–Ω–æ –ª–∏ —Å–µ–π—á–∞—Å –ø–∞—Ä–æ–ª—å

        passwordField.setAttribute('type', isPasswordVisible ? 'password' : 'text'); // –ú–µ–Ω—è–µ–º —Ç–∏–ø –ø–æ–ª—è
        toggleIcon.textContent = isPasswordVisible ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è'; // –ú–µ–Ω—è–µ–º –∏–∫–æ–Ω–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è
    }
</script>

<style>
    /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–∞—Ä–æ–ª—è */
    .password-container {
        position: relative; /* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
    }

    .password-container input {
        padding-right: 40px !important; /* –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø —Å–ø—Ä–∞–≤–∞ –¥–ª—è –∏–∫–æ–Ω–∫–∏ */
    }

    .password-toggle {
        position: absolute; /* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∏–∫–æ–Ω–∫–∏ */
        right: 10px; /* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –∏–∫–æ–Ω–∫—É –Ω–∞ 10px –æ—Ç –ø—Ä–∞–≤–æ–≥–æ –∫—Ä–∞—è */
        top: 50%; /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
        transform: translateY(-50%); /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
        cursor: pointer; /* –£–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –∏–∫–æ–Ω–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞ */
        pointer-events: auto; /* –†–∞–∑—Ä–µ—à–∞–µ–º —Å–æ–±—ã—Ç–∏—è –Ω–∞ –∏–∫–æ–Ω–∫–µ */
    }
</style>

{% endblock content %}
